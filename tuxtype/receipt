# SliTaz package receipt v2.

PACKAGE="tuxtype"
VERSION="1.8.1"
CATEGORY="games"
SHORT_DESC="Educational typing tutor for kids"
MAINTAINER="claudinei@slitaz.org"
LICENSE="GPL2"
WEB_SITE="http://tux4kids.alioth.debian.org/"

TARBALL="tuxtype_w_fonts-$VERSION.tar.gz"
WGET_URL="https://alioth.debian.org/frs/download.php/3270/$TARBALL"

BUILD_DEPENDS="libt4k_common-dev libsdl-dev librsvg-dev libsdl-image-dev \
libsdl-mixer-dev libsdl-ttf-dev libsdl-net-dev libsdl-pango-dev"

compile_rules() {
	./configure \
		--localstatedir=/var/games
		$CONFIGURE_ARGS &&
	make || return 1

	# Adding the games group satisfies the install script.
	addgroup games
	make DESTDIR=$install install
	# We don't need to leave this behind in the build environment.
	delgroup games
}

genpkg_rules() {
	copy @std *.mo
	DEPENDS="libt4k_common libsdl librsvg libsdl-image libsdl-mixer libsdl-ttf \
	libsdl-net libsdl-pango"
	TAGS="education"
}

post_install() {
	chroot "$1/" addgroup games
}
