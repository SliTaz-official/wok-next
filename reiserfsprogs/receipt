# SliTaz package receipt v2.

PACKAGE="reiserfsprogs"
VERSION="3.6.27"
CATEGORY="system-tools"
SHORT_DESC="ReiserFS tools"
MAINTAINER="erjo@slitaz.org"
LICENSE="GPL2"
WEB_SITE="http://www.sfr-fresh.com/linux/misc/"

TARBALL="$PACKAGE-$VERSION.tar.xz"
WGET_URL="https://www.kernel.org/pub/linux/kernel/people/jeffm/reiserfsprogs/v$VERSION/$TARBALL"

BUILD_DEPENDS="util-linux-uuid-dev libcomerr-dev acl-dev"
SPLIT="reiserfsprogs-dev"

# Rules to configure and make the package.
compile_rules()
{
	# http://www.linuxfromscratch.org/blfs/view/stable/postlfs/reiserfs.html

	./configure \
		--sbindir=/sbin \
		$CONFIGURE_ARGS &&
	make &&
	make install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	case $PACKAGE in
		reiserfsprogs)
			copy @std
			DEPENDS="libcomerr util-linux-uuid   linux-reiserfs"
			TAGS="filesystem reiserfs"
			;;
		*-dev)
			copy @dev
			DEPENDS="reiserfsprogs libcomerr util-linux-uuid-dev"
			;;
	esac
}
