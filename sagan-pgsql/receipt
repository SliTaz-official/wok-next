# SliTaz package receipt v2.

PACKAGE="sagan-pgsql"
VERSION="0.2.0"
CATEGORY="security"
SHORT_DESC="Real time system and event log monitoring system with PostgreSQL \
support"
MAINTAINER="erjo@slitaz.org"
LICENSE="GPL2"
WEB_SITE="http://sagan.softwink.com/"

TARBALL="sagan-$VERSION.tar.gz"
WGET_URL="http://sagan.softwink.com/download/$TARBALL"

BUILD_DEPENDS="libesmtp-dev libpcap-dev libdnet-dev postgresql-dev \
liblognorm-dev pcre-dev"

compile_rules() {
	./configure \
		--sysconfdir=/etc/sagan \
		--with-postgresql-includes=/usr/include/postgresql \
		--with-postgresql-libraries=/usr/lib/postgresql \
		--disable-mysql \
		--disable-prelude \
		--disable-lognorm \
		$CONFIGURE_ARGS &&
	make &&
	make install
}

genpkg_rules() {
	copy @std
	DEPENDS="libesmtp libpcap libdnet libpostgresqlclient liblognorm sagan-rules"
	PROVIDE="sagan"
}
