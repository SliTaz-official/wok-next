# SliTaz package receipt v2.

PACKAGE="cvs"
VERSION="1.11.23"
CATEGORY="development"
SHORT_DESC="Concurrent Versions System"
MAINTAINER="erjo@slitaz.org"
LICENSE="GPL"
WEB_SITE="http://ximbiot.com/cvs/"

TARBALL="$PACKAGE-$VERSION.tar.bz2"
WGET_URL="http://ftp.gnu.org/non-gnu/cvs/source/stable/$VERSION/$TARBALL"

SPLIT="cvs-contrib"

compile_rules() {
	./configure \
		-C \
		--prefix=/usr \
		--with-ssh \
		--mandir=/usr/share/man \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		cvs)
			mkdir -p $fs/usr/bin
			cp -a $install/usr/bin/cvs* $fs/usr/bin
			DEPENDS="libcomerr libcomerr3 openssl libkrb5"
			TAGS="version-control versioning"
			;;
		cvs-contrib)
			mkdir -p $fs/usr/share
			cp -a $install/usr/share/cvs $fs/usr/share
			rm -f $fs/usr/share/cvs/contrib/intro.doc
			CAT="development|contrib utilities"
			DEPENDS="libcomerr openssl libkrb5"
			;;
	esac
}
