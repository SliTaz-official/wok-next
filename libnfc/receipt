# SliTaz package receipt v2.

PACKAGE="libnfc"
VERSION="1.7.0"
CATEGORY="development"
SHORT_DESC="Near Field Communication (NFC) library"
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="LGPL3"
WEB_SITE="http://nfc-tools.org/index.php?title=Libnfc"

TARBALL="$PACKAGE-$VERSION.tar.bz2"
WGET_URL="http://libnfc.googlecode.com/files/$TARBALL"

BUILD_DEPENDS="libusb-dev libusb-compat-dev pcsc-lite-dev eudev-dev"
SPLIT="libnfc-dev"

compile_rules() {
	./configure \
		--with-drivers=all \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		libnfc)
			copy @std
			DEPENDS="libusb pcsc-lite"
			;;
		*-dev)
			copy @dev
			DEPENDS="libnfc pcsc-lite-dev libusb-dev libusb-compat-dev"
			;;
	esac
}
