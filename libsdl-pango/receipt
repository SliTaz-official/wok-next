# SliTaz package receipt v2.

PACKAGE="libsdl-pango"
VERSION="0.1.2"
CATEGORY="x-window"
SHORT_DESC="Pango SDL binding"
MAINTAINER="slaxemulator@gmail.com"
LICENSE="LGPL2.1"
WEB_SITE="http://sdlpango.sourceforge.net/"
REPOLOGY="sdl-pango"

TARBALL="SDL_Pango-$VERSION.tar.gz"
WGET_URL="$SF_MIRROR/sdlpango/$TARBALL"

BUILD_DEPENDS="patch gfortran pango-dev libsdl-dev"
SPLIT="libsdl-pango-dev"

compile_rules() {
	# Handle cross compilation
	case "$ARCH" in
		arm*) ARCH_MAKE="LIBS=/cross/$ARCH/sysroot/usr/lib" ;;
	esac

	./configure $CONFIGURE_ARGS &&
	fix libtool &&
	make $ARCH_MAKE &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		libsdl-pango)
			copy @std
			DEPENDS="fontconfig freetype glib libsdl pango"
			;;
		*-dev)
			copy @dev
			DEPENDS="libsdl-pango bzip2-dev fontconfig-dev freetype-dev \
			glib-dev harfbuzz-dev libffi-dev libpng16-dev libxml2-dev \
			pango-dev pcre-dev xz-dev zlib-dev"
			;;
	esac
}
