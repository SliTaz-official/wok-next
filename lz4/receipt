# SliTaz package receipt v2.

PACKAGE="lz4"
VERSION="1.7.5"
CATEGORY="base-system"
SHORT_DESC="High speed lossless compressor"
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="BSD"
WEB_SITE="http://lz4.github.io/lz4/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="$GITHUB/lz4/lz4/tarball/v$VERSION"

SPLIT="lz4-dev lz4-lib lz4c"

compile_rules() {
	export AR="$HOST_SYSTEM-ar"
	make && make PREFIX=/usr DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		lz4)
			copy lz4 unlz4 lz4cat
			DEPENDS=" "
			TAGS="compression"
			;;
		lz4c)
			copy lz4c
			CAT="base-system|lz4c compressor"
			DEPENDS=" "
			TAGS="compression"
			;;
		lz4-lib)
			copy *.so*
			CAT="base-system|lz4c compressor shared library"
			DEPENDS=" "
			;;
		lz4-dev)
			copy @dev
			;;
	esac
}
