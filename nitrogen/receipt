# SliTaz package receipt v2.

PACKAGE="nitrogen"
VERSION="1.5.2"
CATEGORY="x-window"
SHORT_DESC="Nitrogen is a background browser and setter for X windows"
MAINTAINER="mallory@sweetpeople.org"
LICENSE="GPL2"
WEB_SITE="http://projects.l3ib.org/nitrogen"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="$WEB_SITE/files/$TARBALL"

BUILD_DEPENDS="gtkmm-dev libpng16-dev glib-dev gtk+-dev cairomm-dev \
xorg-libXinerama-dev"

compile_rules() {
	# Binutils 2.22 break many packages build without LDFLAGS set correctly.
	export LDFLAGS="$LDFLAGS -Wl,--copy-dt-needed-entries"

	sed -i '/png.h/d' src/Thumbview.cc

	./configure $CONFIGURE_ARGS && make && make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	copy @std
	DEPENDS="gtkmm libpng16 gcc-lib-base"
	TAGS="wallpaper"
}
