# SliTaz package receipt v2.

PACKAGE="indent"
VERSION="2.2.11"
CATEGORY="utilities"
SHORT_DESC="A tool for formatting C code"
MAINTAINER="lufeng369@slitaz.org"
LICENSE="GPL3"
WEB_SITE="https://www.gnu.org/software/indent/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
#WGET_URL="$GNU_MIRROR/$PACKAGE/$TARBALL"
WGET_URL="http://ftp.de.debian.org/debian/pool/main/i/indent/${PACKAGE}_$VERSION.orig.tar.gz"

BUILD_DEPENDS="gettext perl-texi2html"

compile_rules() {
#	rm -f man/indent.1 # remove zero-size file to force rebuild it
#	sed -i 's|/doc/|/share&|' doc/Makefile*

	sed -i 's/-number/-number-sections/' doc/Makefile.in

	export CFLAGS="$CFLAGS -std=gnu90"
	./configure $CONFIGURE_ARGS &&
	make -j 1 &&
	make install
}

genpkg_rules() {
	copy @std
}
