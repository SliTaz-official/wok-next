# SliTaz package receipt v2.

PACKAGE="fox"
VERSION="1.6.49"
CATEGORY="x-window"
SHORT_DESC="Fox toolkit"
MAINTAINER="devel@slitaz.org"
LICENSE="LGPL2.1"
WEB_SITE="http://www.fox-toolkit.org/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://ftp.fox-toolkit.org/pub/$TARBALL"

BUILD_DEPENDS="libpng-dev jpeg-dev tiff-dev libxft-dev mesa-dev \
glu-dev freetype-dev fontconfig-dev expat-dev libxml2-dev xorg-dev \
libxshmfence-dev"
SPLIT="adie calculator $PACKAGE-dev $PACKAGE-doc pathfinder shutterbug"

compile_rules() {
	./configure \
		--with-xft \
		$CONFIGURE_ARGS &&
	fix libtool &&
	make $MAKEFLAGS &&
	make DESTDIR=$install install
}

testsuite() {
	readelf -h $install/usr/bin/adie
}

genpkg_rules() {
	case $PACKAGE in
		fox)
			copy libCHART-*.so* libFOX-*.so*
			SUGGESTED="adie calculator pathfinder shutterbug"
			DEPENDS="libpng jpeg libtiff libxft libbzip2 mesa glu \
			libxcursor libxrandr libxxf86vm \
			libxdamage libdrm jbigkit"
			;;
		adie)
			copy adie Adie.stx
			CAT="x-window|advanced text editor"
			TAGS="text-editor"
			DEPENDS="fox"
			;;
		calculator)
			copy calculator
			CAT="utilities|calculator"
			TAGS="calculator"
			DEPENDS="fox"
			;;
		fox-dev)
			copy @dev reswrap
			DEPENDS="fox"
			;;
		fox-doc)
			copy doc/
			CAT="misc|documentation"
			;;
		pathfinder)
			copy PathFinder
			CAT="x-window|fast and light file manager"
			TAGS="file-manager"
			DEPENDS="fox"
			;;
		shutterbug)
			copy shutterbug
			CAT="x-window|screenshot application"
			DEPENDS="fox"
			;;
	esac
}
