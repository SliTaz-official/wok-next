# SliTaz package receipt v2.

PACKAGE="python-libvirt"
VERSION="latest"
CATEGORY="python"
SHORT_DESC="Python bindings for libvirt"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="GPL2 LGPL2.1"
WEB_SITE="https://pypi.org/project/libvirt-python/"
REPOLOGY="python:libvirt-python"

BUILD_DEPENDS="libvirt-dev python-dev"

# Python packages name should start with "python-", but "python-libvirt-python"
# is pretty ugly name, so strip it to "python-libvirt"

compile_rules() {
	pip install --no-compile --root=$DESTDIR libvirt-python
}

genpkg_rules() {
	VERSION=$(sed -n '/^Successfully installed/ s|.*libvirt-python-||p' $LOGS/$PACKAGE.log)
	copy @std
	DEPENDS="libvirt python"
}
