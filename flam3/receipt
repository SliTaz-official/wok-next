# SliTaz package receipt v2.

PACKAGE="flam3"
VERSION="3.1.1"
CATEGORY="graphics"
SHORT_DESC="Tools to create/display fractal flames: algorithmically generated \
images and animations"
MAINTAINER="gokhlayeh@slitaz.org"
LICENSE="GPL3"
WEB_SITE="http://flam3.com/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="https://github.com/scottdraves/flam3/archive/v$VERSION.tar.gz"

BUILD_DEPENDS="expat-dev libjpeg-turbo-dev libpng16-dev libxml2-dev"
SPLIT="flam3-dev"

compile_rules() {
	./configure \
		--disable-static \
		--enable-shared \
		$CONFIGURE_ARGS &&
	fix libtool &&
	make $MAKEFLAGS &&
	make DESTDIR=$DESTDIR -j1 install
}

genpkg_rules() {
	case $PACKAGE in
		flam3)
			copy @std
			DEPENDS="libjpeg-turbo libpng16 libxml2 zlib"
			;;
		*-dev)
			copy @dev
			DEPENDS="flam3 libjpeg-turbo-dev libpng16-dev libxml2-dev"
			;;
	esac
}
