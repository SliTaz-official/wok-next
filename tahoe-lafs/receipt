# SliTaz package receipt v2.

PACKAGE="tahoe-lafs"
VERSION="1.10.1"
CATEGORY="system-tools"
SHORT_DESC="Cloud storage system"
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="GPL2"
WEB_SITE="https://tahoe-lafs.org/trac/tahoe-lafs"

TARBALL="allmydata-tahoe-$VERSION.zip"
WGET_URL="${WEB_SITE}source/$PACKAGE/releases/$TARBALL" # FIXME

BUILD_DEPENDS="python-dev gmp-dev openssl-dev"

compile_rules() {
	python -B setup.py build &&
	python -B setup.py install --root=$install
}

genpkg_rules() {
	copy @std
	DEPENDS="python python-simplejson python-zope.interface python-twisted \
	python-pyopenssl pycrypto python-zfec python-foolscap python-pyasn1 \
	python-mock python-pycryptopp"
	TAGS="filesystem backup"
}
