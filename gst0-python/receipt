# SliTaz package receipt v2.

PACKAGE="gst0-python"
VERSION="0.10.21"
CATEGORY="multimedia"
SHORT_DESC="GStreamer Python Plugins"
MAINTAINER="jozee@slitaz.org"
LICENSE="LGPL2.1"
WEB_SITE="http://gstreamer.freedesktop.org/"

TARBALL="gst-python-$VERSION.tar.bz2"
WGET_URL="$WEB_SITE/src/gst-python/$TARBALL"

BUILD_DEPENDS="pygobject-dev gstreamer0-dev gst0-plugins-base-dev libxml2-dev \
python-dev pkg-config"
SPLIT="gst0-python-dev"

compile_rules() {
	./configure \
		--prefix=/usr \
		--sysconfdir=/etc \
		--localstatedir=/var \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		gst0-python)
			mkdir -p $fs/usr/lib $fs/usr/share
			cp -a $install/usr/share/gst-python $fs/usr/share
			cp -a $install/usr/lib/python* $fs/usr/lib
			DEPENDS="pygobject gstreamer0 gst0-plugins-base"
			;;
		*-dev)
			mkdir -p $fs/usr/lib
			cp -a $install/usr/lib/pkgconfig $fs/usr/lib
			DEPENDS="gst0-python pygobject-dev gstreamer0-dev \
			gst0-plugins-base-dev python-dev"
			;;
	esac
}
