# SliTaz package receipt.

PACKAGE="imlib2"
VERSION="1.4.9"
CATEGORY="graphics"
SHORT_DESC="Imlib2 graphic library."
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL LGPL2"
WEB_SITE="https://sourceforge.net/projects/enlightenment/"
HOST_ARCH="i486 arm"

TARBALL="$PACKAGE-$VERSION.tar.bz2"
WGET_URL="$SF_MIRROR/enlightenment/$TARBALL"

DEPENDS="bzlib freetype giflib glib harfbuzz libid3tag libjpeg-turbo liblzma \
libpng libxcb pcre tiff xorg-libX11 xorg-libXau xorg-libXdmcp xorg-libXext zlib"
BUILD_DEPENDS="freetype-dev xorg-libX11-dev libjpeg-turbo-dev tiff-dev \
giflib-dev libid3tag-dev xorg-libXext-dev liblzma-dev"
SPLIT="imlib2-test"

# ARM: jpeg-dev must be installed in build chroot and libjpeg.la must
# be modified manually

# Rules to configure and make the package.
compile_rules()
{
	./configure \
		--disable-static \
		$CONFIGURE_ARGS &&
	make && make install

	install -v -m755 -d $install/usr/share/doc/imlib2-$VERSION &&
	install -v -m644 doc/*.gif doc/index.html \
		$install/usr/share/doc/imlib2-$VERSION
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	copy *.so* imlib2_conv imlib2_grab imlib2_view
}
