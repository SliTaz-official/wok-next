# SliTaz package receipt v2.

PACKAGE="xorg-xorgproto"
VERSION="2018.4"
CATEGORY="x-window"
SHORT_DESC="X.Org combined protocol headers"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="MIT"
WEB_SITE="https://github.com/freedesktop/xorg-xorgproto"
REPOLOGY="xorgproto"

TARBALL="xorgproto-$VERSION.tar.gz"
WGET_URL="https://github.com/freedesktop/xorg-xorgproto/archive/$TARBALL"

BUILD_DEPENDS="meson ninja"

compile_rules() {
	mkdir build
	cd    build
	meson-wrapper \
		--datadir=/usr/lib \
		-Dlegacy=true &&
	ninja &&
	ninja install
}

genpkg_rules() {
	copy @dev
	rm \
		$fs/usr/include/X11/extensions/apple* \
		$fs/usr/include/X11/extensions/windows* \
		$fs/usr/lib/pkgconfig/apple* \
		$fs/usr/lib/pkgconfig/windows*
}
