# SliTaz package receipt v2.

PACKAGE="freetype1"
VERSION="1.3.1"
CATEGORY="x-window"
SHORT_DESC="Freetype1 font engine"
MAINTAINER="rcx@zoominternet.net"
LICENSE="BSD"
WEB_SITE="http://www.freetype.org/"
REPOLOGY="freetype"

TARBALL="freetype-$VERSION.tar.gz"
WGET_URL="$SF_MIRROR/freetype/$TARBALL"

SPLIT="freetype1-dev"

compile_rules() {
	# NOTE: DESTDIR is not recognized by freetype1 make install
	./configure \
		--sysconfdir=$DESTDIR/etc \
		--prefix=$DESTDIR/usr \
		--mandir=$DESTDIR/usr/share/man \
		--includedir=$DESTDIR/usr/include \
		--libdir=$DESTDIR/usr/lib \
		--with-x \
		--enable-gif \
		$CONFIGURE_ARGS &&
	make ttlib ttpo || return 1

	cd lib
	make DESTDIR=$DESTDIR -f arch/unix/Makefile install || return 1
	cd ../po
	make DESTDIR=$DESTDIR -f Makefile install || return 1
}

genpkg_rules() {
	case $PACKAGE in
		freetype1)
			copy @std
			DEPENDS="glibc-base"
			;;
		*-dev)
			copy @dev
			;;
	esac
}
