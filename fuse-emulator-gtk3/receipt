# SliTaz package receipt v2.

PACKAGE="fuse-emulator-gtk3"
VERSION="1.4.0"
CATEGORY="games"
SHORT_DESC="ZX Spectrum emulator (with GTK3 interface)"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="GPL2"
WEB_SITE="http://fuse-emulator.sourceforge.net/fuse.php"

TARBALL="fuse-$VERSION.tar.gz"
WGET_URL="$SF_MIRROR/fuse-emulator/$TARBALL"

BUILD_DEPENDS="perl libspectrum-dev xorg-libX11-dev xorg-libICE-dev gtk+3-dev \
alsa-lib-dev libsdl-dev"

compile_rules() {
	./configure \
		--enable-desktop-integration \
		$CONFIGURE_ARGS &&
	make && make install
}

genpkg_rules() {
	copy @std
	rm -r $fs/usr/share/icons; cook_copy_icons # only 16 and 48
	DEPENDS="alsa-lib atk audiofile bzlib cairo fontconfig freetype gdk-pixbuf \
	glib gtk+3 libffi libgcrypt libgpg-error libharfbuzz liblzma libpng16 \
	libsdl libspectrum libxml2 pango pcre tslib util-linux-blkid \
	util-linux-mount util-linux-uuid xorg-libX11 xorg-libXau xorg-libXdmcp \
	xorg-libXext xorg-libXrender xorg-libxcb xorg-pixman zlib"
	TAGS="emulator spectrum"
}
