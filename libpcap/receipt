# SliTaz package receipt v2.

PACKAGE="libpcap"
VERSION="1.9.0"
CATEGORY="libdevel"
SHORT_DESC="Functions for user-level packet capture, used in low-level network \
monitoring"
MAINTAINER="sdaigl@lacitec.on.ca"
LICENSE="BSD"
WEB_SITE="http://www.tcpdump.org/"
LFS="http://www.linuxfromscratch.org/blfs/view/svn/basicnet/libpcap.html"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://www.tcpdump.org/release/$TARBALL"

BUILD_DEPENDS="flex bison libnl-dev"
SPLIT="libpcap-dev"

compile_rules() {
	./configure $CONFIGURE_ARGS &&
	make || return 1

	# disable static
	sed -i '/INSTALL_DATA.*libpcap.a\|RANLIB.*libpcap.a/ s/^/#/' Makefile

	make install
}

genpkg_rules() {
	case $PACKAGE in
		libpcap)
			copy @std
			DEPENDS="libnl"
			;;
		*-dev)
			copy @dev
			DEPENDS="libnl-dev"
			;;
	esac
}
