# SliTaz package receipt v2.

PACKAGE="libpcap"
VERSION="1.8.1"
CATEGORY="libdevel"
SHORT_DESC="Functions for user-level packet capture, used in low-level network \
monitoring"
MAINTAINER="sdaigl@lacitec.on.ca"
LICENSE="BSD"
WEB_SITE="http://www.tcpdump.org/"
LFS="http://www.linuxfromscratch.org/blfs/view/stable/basicnet/libpcap.html"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://www.tcpdump.org/release/$TARBALL"

BUILD_DEPENDS_arm=" "
BUILD_DEPENDS="flex bison libnl-dev"
SPLIT="libpcap-dev"

compile_rules() {
	case "$ARCH" in
		arm)
			ARCH_ARGS="--with-pcap=linux"
			export ac_cv_linux_vers=2
			;;
	esac

	./configure \
		$CONFIGURE_ARGS $ARCH_ARGS &&
	make && make install
}

genpkg_rules() {
	case $PACKAGE in
		libpcap)
			copy @std
			DEPENDS="libnl"
			;;
		*-dev) copy @dev;;
	esac
}
