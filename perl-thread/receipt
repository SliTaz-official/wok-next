# SliTaz package receipt.

PACKAGE="perl-thread"
VERSION="5.24.1"
CATEGORY="development"
SHORT_DESC="Full Perl interpreter and modules"
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL"
WEB_SITE="https://www.perl.org/"

TARBALL="perl-$VERSION.tar.bz2"
WGET_URL="http://www.cpan.org/src/5.0/$TARBALL"

DEPENDS="libdb gdbm zlib"
BUILD_DEPENDS="db gdbm zlib less"
SIBLINGS="microperl perl-thread"

# Rules to configure and make the package.
#
compile_rules()
{
	./configure.gnu \
		--prefix=/usr \
		-Dusethreads &&
	make &&
	make install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	copy bin/ lib/
}

# Pre install commands for Tazpkg.
# Remove perl link to microperl if any.
#
pre_install() {
	[ ! -e "$1/usr/bin/perl" ] || rm -f "$1/usr/bin/perl"
}
