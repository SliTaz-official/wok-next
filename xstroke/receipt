# SliTaz package receipt v2.

PACKAGE="xstroke"
VERSION="0.6"
CATEGORY="x-window"
SHORT_DESC="Full-screen gesture recognition program for X"
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL2"
WEB_SITE="https://cworth.org/~cworth/papers/xstroke/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://davesource.com/Projects/xstroke/xstroke.tar.gz"

BUILD_DEPENDS="xorg-libX11-dev"

compile_rules() {
	case "$ARCH" in
		arm*) sysroot="/cross/$ARCH/sysroot";;
		*)    sysroot="";;
	esac
	sed -i \
		-e s"#^CC.*#CC = $HOST_SYSTEM-gcc#" \
		-e s"#^INCLUDE.*#INCLUDE = -I$sysroot/usr/include#" \
		-e s"#^LDFLAGS.*#LDFLAGS = -L$sysroot/usr/lib#" Makefile

	make xstroke || return 1

	install -Dm755 $src/xstroke $install/usr/bin/xstroke
	cook_pick_docs $src/xstroke.man
}

genpkg_rules() {
	copy @std
	DEPENDS="xorg-libX11"
}
