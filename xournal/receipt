# SliTaz package receipt v2.

PACKAGE="xournal"
VERSION="0.4.7"
CATEGORY="utilities"
SHORT_DESC="Notetaking application"
MAINTAINER="meshca@clarkson.edu"
LICENSE="GPL2"
WEB_SITE="http://xournal.sourceforge.net/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="$SF_MIRROR/$PACKAGE/$TARBALL"

BUILD_DEPENDS="autoconf automake gtk+-dev libgnomecanvas-dev poppler-dev \
zlib-dev libart_lgpl-dev gettext"

compile_rules() {
	CFLAGS="$CFLAGS $(pkg-config --cflags --libs gtk+-2.0 x11) -lm -lz"

	./configure $CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install &&
	make DESTDIR=$DESTDIR desktop-install
}

genpkg_rules() {
	copy @std
	rm -r $fs/usr/share/mimelnk/
	DEPENDS="atk cairo fontconfig freetype gdk-pixbuf glib gtk+ libart_lgpl \
	libgnomecanvas pango poppler xorg-libX11 zlib" # poppler-apps?
	SUGGESTED="ghostscript"
}
