# SliTaz package receipt v2.

PACKAGE="stardict"
VERSION="3.0.1"
CATEGORY="utilities"
SHORT_DESC="A powerful international dictionary written in Gtk2"
MAINTAINER="lufeng369@slitaz.org"
LICENSE="GPL3"
WEB_SITE="http://code.google.com/p/stardict-3/"

TARBALL="$PACKAGE-$VERSION.tar.bz2"
WGET_URL="http://stardict-3.googlecode.com/files/$TARBALL"

BUILD_DEPENDS="bzip2 enchant-dev tar intltool popt libsigc++-dev gtk+-dev \
xorg-libSM-dev zlib-dev util-linux-uuid-dev libffi"

compile_rules() {
	sed -i 's/<vector>/&\n#include <stdio.h>/' stardict-plugins/stardict-wordnet-plugin/scene.hpp

	./configure \
		--disable-man \
		--disable-qqwry \
		--disable-gnome-support \
		--disable-schemas-install \
		--disable-espeak \
		--disable-gucharmap \
		--disable-festival \
		--disable-advertisement \
		--disable-updateinfo \
		$CONFIGURE_ARGS &&
	fix libtool &&
	make &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	copy @std
	DEPENDS="enchant libsigc++ gtk+ xorg-libSM"
}
