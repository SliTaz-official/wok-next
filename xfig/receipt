# SliTaz package receipt v2.

PACKAGE="xfig"
VERSION="3.2.6a"
CATEGORY="x-window"
SHORT_DESC="Vector graphics editor for X"
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="MIT"
WEB_SITE="http://www.xfig.org/"

TARBALL="$PACKAGE-full-$VERSION.tar.xz"
WGET_URL="$SF_MIRROR/mcj/$TARBALL"

BUILD_DEPENDS="xorg-imake xorg-cf-files xorg-gccmakedep jpeg-dev \
libpng16-dev xorg-libXp xorg-libX11-dev xorg-libXt-dev xorg-libXpm-dev \
xorg-libXmu-dev xorg-libXaw-dev xorg-libXaw3d-dev xorg-libXt-dev"
SPLIT="transfig"

compile_rules() {
	cd $src/$PACKAGE-$VERSION

	./configure \
		--prefix=/usr \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR/xfig install || return 1

	cd $src/fig2dev-$VERSION

	./configure \
		--prefix=/usr \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR/transfig install
}

genpkg_rules() {
	case $PACKAGE in
		xfig)
			cp -a $install/xfig/* $fs
			SUGGESTED="transfig"
			DEPENDS="jpeg libpng16 xorg xorg-libXp"
			;;
		transfig)
			cp -a $install/transfig/* $fs
			SHORT_DESC="Utilities for converting XFig figure files"
			DEPENDS="xorg xorg-libXpm libpng16 zlib"
			;;
	esac
}
