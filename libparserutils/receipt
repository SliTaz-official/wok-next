# SliTaz package receipt v2.

PACKAGE="libparserutils"
VERSION="0.2.3"
CATEGORY="system-tools"
SHORT_DESC="Library for building efficient parsers"
MAINTAINER="pankso@slitaz.org"
LICENSE="MIT"
WEB_SITE="http://www.netsurf-browser.org/projects/libparserutils/"
HOST_ARCH="i486 arm"

TARBALL="$PACKAGE-$VERSION-src.tar.gz"
WGET_URL="http://download.netsurf-browser.org/libs/releases/$TARBALL"

BUILD_DEPENDS="netsurf-buildsystem"
SPLIT="libparserutils-dev"

# Rules to configure and make the package.
compile_rules()
{
	sed -i 's|_BSD_SOURCE|_DEFAULT_SOURCE|' Makefile &&
	make INCLUDEDIR=include LIBDIR=lib PREFIX=/usr COMPONENT_TYPE="lib-shared" &&
	make INCLUDEDIR=include LIBDIR=lib PREFIX=/usr COMPONENT_TYPE="lib-shared" \
		DESTDIR="$install" install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	case $PACKAGE in
		libparserutils) copy @std;;
		*-dev)          copy @dev;;
	esac
}
