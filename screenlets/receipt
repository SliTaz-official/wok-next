# SliTaz package receipt v2.

PACKAGE="screenlets"
VERSION="0.1.6"
CATEGORY="system-tools"
SHORT_DESC="Desktop widgets framework"
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL2"
WEB_SITE="http://screenlets.org"

TARBALL="$PACKAGE-$VERSION.tar.bz2"
WGET_URL="https://launchpad.net/screenlets/trunk/$VERSION/+download/$TARBALL"

BUILD_DEPENDS="python-dev gettext"

compile_rules() {
	python setup.py install --root=$install || return 1

	mkdir -p      $install/etc/screenlets/
	echo '/usr' > $install/etc/screenlets/prefix
}

genpkg_rules() {
	copy @std
	DEPENDS="python pygtk python-xdg python-beautifulsoup4 gnome-python-desktop \
	python-dbus gnome-icon-theme"
}

post_install() {
	chroot "$1/" /usr/bin/gdk-pixbuf-query-loaders --update-cache
}

post_remove() {
	chroot "$1/" /usr/bin/gdk-pixbuf-query-loaders --update-cache
}
