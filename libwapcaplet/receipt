# SliTaz package receipt v2.

PACKAGE="libwapcaplet"
VERSION="0.4.0"
CATEGORY="system-tools"
SHORT_DESC="String internment library with rapid string comparison"
MAINTAINER="erjo@slitaz.org"
LICENSE="MIT"
WEB_SITE="http://www.netsurf-browser.org/projects/libwapcaplet/"
HOST_ARCH="i486 arm"

TARBALL="$PACKAGE-$VERSION-src.tar.gz"
WGET_URL="http://download.netsurf-browser.org/libs/releases/$TARBALL"

BUILD_DEPENDS="netsurf-buildsystem"
SPLIT="libwapcaplet-dev"

# Rules to configure and make the package.
compile_rules()
{
	sed -i 's|_BSD_SOURCE|_DEFAULT_SOURCE|' Makefile &&

	make \
		PREFIX=/usr \
		COMPONENT_TYPE="lib-shared" &&
	make install \
		INCLUDEDIR=include \
		LIBDIR=lib \
		PREFIX=/usr \
		DESTDIR="$install" \
		COMPONENT_TYPE="lib-shared"
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	case $PACKAGE in
		libwapcaplet) copy @std;;
		*-dev)        copy @dev;;
	esac
}
