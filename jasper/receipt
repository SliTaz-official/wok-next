# SliTaz package receipt v2.

PACKAGE="jasper"
VERSION="2.0.12"
CATEGORY="graphics"
SHORT_DESC="Implementation of JPEG-2000 codec"
MAINTAINER="jozee@slitaz.org"
LICENSE="MIT"
WEB_SITE="http://www.ece.uvic.ca/~frodo/jasper/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="${WEB_SITE}software/$TARBALL"

BUILD_DEPENDS="cmake libjpeg-turbo-dev"
SPLIT="jasper-dev"

# Rules to configure and make the package.
compile_rules()
{
	mkdir -p build
	cmake -G "Unix Makefiles" -H. -Bbuild -DCMAKE_INSTALL_PREFIX=/usr
	cd build
	make clean all &&
	make install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	case $PACKAGE in
		jasper)
			copy @std
			DEPENDS="libjpeg-turbo"
			TAGS="jpeg jpg photo"
			;;
		*-dev) copy @dev;;
	esac
}
