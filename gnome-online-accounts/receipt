# SliTaz package receipt v2.

PACKAGE="gnome-online-accounts"
VERSION="3.30.1"
CATEGORY="network"
SHORT_DESC="Client for GNOME web services"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="GPL2"
WEB_SITE="https://wiki.gnome.org/Projects/GnomeOnlineAccounts"

TARBALL="$PACKAGE-$VERSION.tar.xz"
WGET_URL="$GNOME_MIRROR/$PACKAGE/${VERSION%.*}/$TARBALL"
TARBALL_SHA1="211d5130f30ea9c90064c21b4b0f2de3b3e107d2"

BUILD_DEPENDS="glib-dev libxslt gobject-introspection-dev vala gtk3-dev \
webkit2gtk-dev json-glib-dev rest-dev libsecret-dev krb5-dev gettext-dev \
docbook-xsl"
SPLIT="$PACKAGE-dev"

COPY_std="@std @ico"

DEPENDS_std="glib gtk3 json-glib libsecret libsoup libxml2 rest webkit2gtk"
DEPENDS_dev="$PACKAGE glib-dev gtk3-dev"

COOKOPTS="skip-log-errors"

compile_rules() {
	./configure \
		--disable-telepathy \
		$CONFIGURE_ARGS &&
	fix libtool &&
	make &&
	make install
}
