# SliTaz package receipt v2.

PACKAGE="gc"
VERSION="7.2"
CATEGORY="development"
SHORT_DESC="A garbage collector for C and C++"
MAINTAINER="pankso@slitaz.org"
LICENSE="MIT GPL"
WEB_SITE="http://www.hpl.hp.com/personal/Hans_Boehm/gc/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source/$TARBALL"

SPLIT="gc-dev"

compile_rules() {
	./configure \
		--enable-cplusplus \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install || return 1

	# libatomic_ops
	cd $src/libatomic_ops*
	./configure \
		--prefix=/usr \
		--disable-static \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install
}

genpkg_rules() {
	case $PACKAGE in
		gc)    copy @std;;
		*-dev) copy @dev;;
	esac
}
