# SliTaz package receipt v2.

PACKAGE="gnome-mplayer"
VERSION="1.0.8"
CATEGORY="multimedia"
SHORT_DESC="Gnome MPlayer is a GTK2/GTK3 interface for MPlayer"
MAINTAINER="jozee@slitaz.org"
LICENSE="GPL2"
WEB_SITE="https://code.google.com/archive/p/gnome-mplayer/"

TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/gnome-mplayer/$TARBALL"

BUILD_DEPENDS="mplayer alsa-lib libgpod dbus-dev dbus-glib-dev libnotify-dev \
libgpod-dev xorg-libX11-dev xorg-libxcb-dev gtk+-dev xorg-libXScrnSaver-dev \
gmtk-dev"

compile_rules() {
	./configure \
		--disable-schemas-install \
		--without-gconf \
		--disable-nautilus \
		--disable-panscan \
		--without-libmusicbrainz3 &&
	make  &&
	make install || return 1

	sed 's|Exec=gnome-mplayer|Exec=gnome-mplayer %F|' \
		-i $install/usr/share/applications/$PACKAGE.desktop
}

genpkg_rules() {
	copy @std
	DEPENDS="mplayer gtk+ dbus-glib libnotify alsa-lib libgpod"
	TAGS="player audio video movie mp3 ogg dvd"
}
